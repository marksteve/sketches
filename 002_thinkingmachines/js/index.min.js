'use strict';var Two=window.Two;var TWEEN=window.TWEEN;var logo=document.querySelector('.logo');var width=logo.clientWidth;var height=logo.clientHeight;var two=new Two({type:Two.Types.canvas,width:width,height:height}).appendTo(logo);// Position helpers
var size=6;var padding=25;var col=function col(i){return i%size};var row=function row(i){return i/size|0};var x1=function x1(i){return col(i)*(width-padding*2)/size+padding};var y1=function y1(i){return row(i)*(height-padding*2)/size+padding};var x2=function x2(i){return(col(i)+1)*(width-padding*2)/size+padding};var y2=function y2(i){return(row(i)+1)*(height-padding*2)/size+padding};function createGrid(){var grid=[];for(var i=0;i<size*size;i++){var line=two.makeLine(x1(i),y1(i),x2(i),y2(i));line.stroke='#ffffff';line.linewidth=5;line.cap='round';grid.push(line)}return grid}// Transform flags
var f=1;// Forward slash
var b=2;// Backward slash
var t0=4;// Thickness 0
var t1=8;// Thickness 1
var t2=16;// Thickness 2
var t3=32;// Thickness 3
function getLinewidth(lineState){var width=5;switch(true){case(lineState&t3)>0:width*=1.75;case(lineState&t2)>0:width*=1.75;case(lineState&t1)>0:width*=1.75;}return width}function getRotation(lineState){return lineState&b?0:Math.PI/2}function transformGrid(grid,state){var _loop=function _loop(i){var line=grid[i];var lineState=state[i];var nextLinewidth=getLinewidth(lineState);var nextRotation=getRotation(lineState);new TWEEN.Tween({linewidth:line.linewidth,rotation:line.rotation}).easing(TWEEN.Easing.Exponential.InOut).to({linewidth:nextLinewidth,rotation:nextRotation},1000).onUpdate(function(){line.linewidth=this.linewidth;line.rotation=this.rotation}).start()};for(var i=0;i<size*size;i++){_loop(i)}}var randChar=function randChar(_){return 33+Math.floor(Math.random()*(126-33))};function setDesc(el,text){new TWEEN.Tween({t:0}).to({t:1},1000).onUpdate(function(){var t=this.t;var slicedText=text.slice(0,t*text.length|0);var chars=[];for(var i=0;i<(1-t)*text.length;i++){chars[i]=randChar()}var randText=String.fromCharCode.apply(String,chars);window.requestAnimationFrame(function(){el.textContent=slicedText+randText})}).start()}var states=[{descText:'Data Strategy',transform:[t0|b,t0|b,t0|b,t0|b,t0|f,t0|f,t0|b,t2|b,t1|b,t2|b,t2|f,t0|f,t0|b,t1|b,t3|b,t3|f,t3|b,t0|f,t0|f,t1|f,t3|f,t3|b,t3|f,t0|b,t0|f,t2|f,t1|f,t2|f,t2|b,t0|b,t0|f,t0|f,t0|f,t0|f,t0|b,t0|b]},{descText:'Data Engineering',transform:[t0|b,t0|b,t0|b,t1|f,t1|f,t1|f,t1|b,t1|b,t1|b,t2|f,t2|f,t2|f,t2|b,t2|b,t2|b,t3|f,t3|f,t3|f,t3|f,t3|f,t3|f,t2|b,t2|b,t2|b,t2|f,t2|f,t2|f,t1|b,t1|b,t1|b,t1|f,t1|f,t1|f,t0|b,t0|b,t0|b]},{descText:'Data Science',transform:[t0|f,t0|f,t0|b,t0|b,t0|b,t0|b,t0|f,t1|f,t0|f,t0|f,t3|f,t0|b,t1|f,t1|f,t2|f,t3|f,t0|f,t2|b,t2|b,t0|f,t3|f,t2|f,t1|f,t1|f,t0|b,t3|f,t0|f,t0|f,t1|f,t0|f,t0|b,t0|b,t0|b,t0|b,t0|f,t0|f]},{descText:'Data Storytelling',transform:[t0|f,t1|f,t3|f,t3|b,t1|b,t0|b,t1|f,t3|f,t2|f,t2|b,t3|b,t1|b,t3|f,t2|f,t1|f,t1|b,t2|b,t3|b,t3|b,t2|b,t1|b,t1|f,t2|f,t3|f,t1|b,t3|b,t2|b,t2|f,t3|f,t1|f,t0|b,t1|b,t3|b,t3|f,t1|f,t0|f]}];two.bind('update',function(t){TWEEN.update()}).play();var grid=createGrid();var desc=document.querySelector('.desc');function cycleState(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var _states=states[i%states.length],descText=_states.descText,transform=_states.transform;transformGrid(grid,transform);setDesc(desc,descText);setTimeout(function(_){return cycleState(i+1)},3000)}cycleState();
