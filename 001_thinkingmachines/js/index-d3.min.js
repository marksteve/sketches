'use strict';function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}var d3=window.d3;var size=6;var logo=d3.select('.logo');var width=logo.property('clientWidth')-100;var height=logo.property('clientHeight')-100;// Position helpers
var col=function col(d){return d%size};var row=function row(d){return d/size|0};var x1=function x1(d){return col(d)*width/size};var y1=function y1(d){return row(d)*height/size};var x2=function x2(d){return(col(d)+1)*width/size};var y2=function y2(d){return(row(d)+1)*height/size};function createGrid(el){var data=d3.range(size*size).map(function(d){return{x1:x1(d),y1:y1(d),x2:x2(d),y2:y2(d)}});el.selectAll('line').data(data).enter().append('line').attr('x1',function(d){return d.x1}).attr('y1',function(d){return d.y1}).attr('x2',function(d){return d.x2}).attr('y2',function(d){return d.y2})}// Transform flags
var f=1;// Forward slash
var b=2;// Backward slash
var t0=4;// Thickness 0
var t1=8;// Thickness 1
var t2=16;// Thickness 2
var t3=32;// Thickness 3
function transformGrid(el,state){return el.selectAll('line').data(state).transition().duration(1000).attr('stroke-width',function(d){var w=5;switch(true){case(d&t3)>0:w*=1.75;case(d&t2)>0:w*=1.75;case(d&t1)>0:w*=1.75;}return w}).attrTween('transform',function(d,i){var transform=this.getAttribute('transform');var deg=transform?parseInt(transform.match(/rotate\((\d+)/)[1],10):0;// SVG transform rotates from 0, 0 by default
// We need to rotate from the line center instead
var cx=x1(i)+width/size/2;var cy=y1(i)+height/size/2;var nextDeg=d&b?0:90;var delta=nextDeg-deg;return function(t){return'rotate('+(deg+t*delta)+' '+cx+' '+cy+')'}})}var randChar=d3.randomUniform(33,126);function setDesc(el,text){el.transition().duration(1000).tween('text',function(){return function(t){var slicedText=text.slice(0,t*text.length|0);var chars=d3.range((1-t)*text.length).map(randChar);var randText=String.fromCharCode.apply(String,_toConsumableArray(chars));window.requestAnimationFrame(function(){el.text(slicedText+randText)})}})}var states=[{descText:'Data Strategy',transform:[t0|b,t0|b,t0|b,t0|b,t0|f,t0|f,t0|b,t2|b,t1|b,t2|b,t2|f,t0|f,t0|b,t1|b,t3|b,t3|f,t3|b,t0|f,t0|f,t1|f,t3|f,t3|b,t3|f,t0|b,t0|f,t2|f,t1|f,t2|f,t2|b,t0|b,t0|f,t0|f,t0|f,t0|f,t0|b,t0|b]},{descText:'Data Engineering',transform:[t0|b,t0|b,t0|b,t1|f,t1|f,t1|f,t1|b,t1|b,t1|b,t2|f,t2|f,t2|f,t2|b,t2|b,t2|b,t3|f,t3|f,t3|f,t3|f,t3|f,t3|f,t2|b,t2|b,t2|b,t2|f,t2|f,t2|f,t1|b,t1|b,t1|b,t1|f,t1|f,t1|f,t0|b,t0|b,t0|b]},{descText:'Data Science',transform:[t0|f,t0|f,t0|b,t0|b,t0|b,t0|b,t0|f,t1|f,t0|f,t0|f,t3|f,t0|b,t1|f,t1|f,t2|f,t3|f,t0|f,t2|b,t2|b,t0|f,t3|f,t2|f,t1|f,t1|f,t0|b,t3|f,t0|f,t0|f,t1|f,t0|f,t0|b,t0|b,t0|b,t0|b,t0|f,t0|f]},{descText:'Data Storytelling',transform:[t0|f,t1|f,t3|f,t3|b,t1|b,t0|b,t1|f,t3|f,t2|f,t2|b,t3|b,t1|b,t3|f,t2|f,t1|f,t1|b,t2|b,t3|b,t3|b,t2|b,t1|b,t1|f,t2|f,t3|f,t1|b,t3|b,t2|b,t2|f,t3|f,t1|f,t0|b,t1|b,t3|b,t3|f,t1|f,t0|f]}];var svg=logo.select('svg');var lines=svg.append('g').attr('transform','translate(50, 50)');var desc=d3.select('.desc');function animate(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var _states=states[i%states.length],descText=_states.descText,transform=_states.transform;transformGrid(lines,transform);setDesc(desc,descText);d3.timeout(function(_){return animate(i+1)},3000)}createGrid(lines);animate();
